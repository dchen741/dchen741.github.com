<!doctype html>
<head>
    <meta charset="utf-8">

    <title>ARI Database</title>
    <meta name="description" content="Database for ARI">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="../styles/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="../styles/style.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.3.1.min.js"></script>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="page-header text-center">
                <h1>ARI Database</h1>
            </div>
        </div>
        <div class="row">
            <h2>Dante</h2>
        </div>
        <div class="row">
            <h4>Correct Questions</h4>
        </div>
        <div class="row">
            <div id="CorrectTable"><span>There are no correct questions available.</span></div>
        </div>
        <div class="row">
            <h4>Incorrect Questions</h4>
        </div>
        <div class="row">
            <div id="IncorrectTable"><span>There are no incorrect questions available.</span></div>
        </div>
    </div>
    <script type="text/javascript">
        tempString = [];
        Parse.initialize("ASMRRN5iWBqYCX4xmWqE4WVfFexRuVhDuEudAOgh","ilpKJp7jgCw4L9XBQ6DEUaYVXOxy4iu8QPqEZZ7g");
        var Thing = Parse.Object.extend("iPhoneQuizApp");
        var query = new Parse.Query(Thing);
        query.get("aIQNpgydyV", {
            success: function(ariThing) {
                console.log(ariThing._serverData);
                Table("#CorrectTable", ariThing._serverData.correctAnswerArray, ariThing._serverData.correctDateArray, ariThing._serverData.correctJOLArray);
                Table("#IncorrectTable", ariThing._serverData.incorrectAnswerArray, ariThing._serverData.incorrectDateArray, ariThing._serverData.incorrectJOLArray);
            },
            error: function(object, error) {
                console.log("no");
            }
        });

        //Make Tables
        function Table(questionType, answerArray, dateArray, jolArray) {
            var table = '<table class="table table-bordered table-condensed"><thead><tr><th>Question Number</th><th>JOL</th><th>Question Date</th></tr></thead><tbody>';
            console.log(answerArray);
            numAnswers = answerArray.length;
            for (var i=0;i<numAnswers;i++) {
                var row = "<tr><td>"+String(answerArray[i])+"</td><td>"+jolArray[i]+"</td><td>"+dateArray[i]+"</tr>"
                table += row;
            }
            table += '</table>';
            $(questionType).html(table);
            // $('#CorrectTable').tooltip({
            //     'show': true,
            //     'selector':'.staff-row',
            //     'placement': 'bottom',
            //     'title': function(event){
            //         var $this=$(this);
            //         var tds=$this.find('td');            
            //         return $(tds[0]).text()+" "+$(tds[1]).text()+" age: "+$this.attr("age");
            //     },        
            // });
        }
    </script>
</body>

</html>
